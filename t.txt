mkdir -p obj/kernel/
gcc -Wall  -Werror -Wfatal-errors  -MD  -std=gnu11 -m32 -c  -I .  -O0  -fno-builtin  -ggdb3  -fno-stack-protector kernel/env.c -o obj/kernel/env.o
ld -m elf_i386 -T kernel/kernel.ld -nostdlib -o kernel.bin obj/kernel/syscall/do_syscall.o obj/kernel/pmapjos.o obj/kernel/main.o obj/kernel/entrypgdir.o obj/kernel/irq/idt.o obj/kernel/irq/i8259.o obj/kernel/irq/irq_handle.o obj/kernel/env.o obj/kernel/device/timer.o obj/kernel/device/palette.o obj/kernel/device/video.o obj/kernel/device/serial.o obj/kernel/irq/do_irq.o obj/kernel/entry.o obj/lib/abort.o obj/lib/printk.o obj/lib/random.o obj/lib/string.o obj/lib/font.o kernel/kernel.ld /usr/lib/gcc/x86_64-linux-gnu/4.8/32/libgcc.a
perl kernel/genkern.pl kernel.bin	
qemu-system-i386 -serial stdio  -monitor telnet:127.0.0.1:1111,server,nowait  disk.bin
entrypgdir c0106000
Physical memory: 66556K available, base = 640K, extended = 65532K,pagenum=16639
boot alloc 
 result	c0121000
 nextfree	c0122000
boot alloc 
 result	c0122000
 nextfree	c0143000
boot alloc 
 result	c0143000
 nextfree	c015b000
envs start c0143000
envs end c015afa0
pages	c0122000
pageinit 
 the start page c0122ac8
 the end page c01427f0
the first page after page init 15b000
ready to cr3?
hellowold
1023	c015afa0
1022	c015af40
1021	c015aee0
1020	c015ae80
1019	c015ae20
1018	c015adc0
1017	c015ad60
1016	c015ad00
1015	c015aca0
1014	c015ac40
1013	c015abe0
1012	c015ab80
1011	c015ab20
1010	c015aac0
1009	c015aa60
1008	c015aa00
1007	c015a9a0
1006	c015a940
1005	c015a8e0
1004	c015a880
1003	c015a820
1002	c015a7c0
1001	c015a760
1000	c015a700
999	c015a6a0
998	c015a640
997	c015a5e0
996	c015a580
995	c015a520
994	c015a4c0
993	c015a460
992	c015a400
991	c015a3a0
990	c015a340
989	c015a2e0
988	c015a280
987	c015a220
986	c015a1c0
985	c015a160
984	c015a100
983	c015a0a0
982	c015a040
981	c0159fe0
980	c0159f80
979	c0159f20
978	c0159ec0
977	c0159e60
976	c0159e00
975	c0159da0
974	c0159d40
973	c0159ce0
972	c0159c80
971	c0159c20
970	c0159bc0
969	c0159b60
968	c0159b00
967	c0159aa0
966	c0159a40
965	c01599e0
964	c0159980
963	c0159920
962	c01598c0
961	c0159860
960	c0159800
959	c01597a0
958	c0159740
957	c01596e0
956	c0159680
955	c0159620
954	c01595c0
953	c0159560
952	c0159500
951	c01594a0
950	c0159440
949	c01593e0
948	c0159380
947	c0159320
946	c01592c0
945	c0159260
944	c0159200
943	c01591a0
942	c0159140
941	c01590e0
940	c0159080
939	c0159020
938	c0158fc0
937	c0158f60
936	c0158f00
935	c0158ea0
934	c0158e40
933	c0158de0
932	c0158d80
931	c0158d20
930	c0158cc0
929	c0158c60
928	c0158c00
927	c0158ba0
926	c0158b40
925	c0158ae0
924	c0158a80
923	c0158a20
922	c01589c0
921	c0158960
920	c0158900
919	c01588a0
918	c0158840
917	c01587e0
916	c0158780
915	c0158720
914	c01586c0
913	c0158660
912	c0158600
911	c01585a0
910	c0158540
909	c01584e0
908	c0158480
907	c0158420
906	c01583c0
905	c0158360
904	c0158300
903	c01582a0
902	c0158240
901	c01581e0
900	c0158180
899	c0158120
898	c01580c0
897	c0158060
896	c0158000
895	c0157fa0
894	c0157f40
893	c0157ee0
892	c0157e80
891	c0157e20
890	c0157dc0
889	c0157d60
888	c0157d00
887	c0157ca0
886	c0157c40
885	c0157be0
884	c0157b80
883	c0157b20
882	c0157ac0
881	c0157a60
880	c0157a00
879	c01579a0
878	c0157940
877	c01578e0
876	c0157880
875	c0157820
874	c01577c0
873	c0157760
872	c0157700
871	c01576a0
870	c0157640
869	c01575e0
868	c0157580
867	c0157520
866	c01574c0
865	c0157460
864	c0157400
863	c01573a0
862	c0157340
861	c01572e0
860	c0157280
859	c0157220
858	c01571c0
857	c0157160
856	c0157100
855	c01570a0
854	c0157040
853	c0156fe0
852	c0156f80
851	c0156f20
850	c0156ec0
849	c0156e60
848	c0156e00
847	c0156da0
846	c0156d40
845	c0156ce0
844	c0156c80
843	c0156c20
842	c0156bc0
841	c0156b60
840	c0156b00
839	c0156aa0
838	c0156a40
837	c01569e0
836	c0156980
835	c0156920
834	c01568c0
833	c0156860
832	c0156800
831	c01567a0
830	c0156740
829	c01566e0
828	c0156680
827	c0156620
826	c01565c0
825	c0156560
824	c0156500
823	c01564a0
822	c0156440
821	c01563e0
820	c0156380
819	c0156320
818	c01562c0
817	c0156260
816	c0156200
815	c01561a0
814	c0156140
813	c01560e0
812	c0156080
811	c0156020
810	c0155fc0
809	c0155f60
808	c0155f00
807	c0155ea0
806	c0155e40
805	c0155de0
804	c0155d80
803	c0155d20
802	c0155cc0
801	c0155c60
800	c0155c00
799	c0155ba0
798	c0155b40
797	c0155ae0
796	c0155a80
795	c0155a20
794	c01559c0
793	c0155960
792	c0155900
791	c01558a0
790	c0155840
789	c01557e0
788	c0155780
787	c0155720
786	c01556c0
785	c0155660
784	c0155600
783	c01555a0
782	c0155540
781	c01554e0
780	c0155480
779	c0155420
778	c01553c0
777	c0155360
776	c0155300
775	c01552a0
774	c0155240
773	c01551e0
772	c0155180
771	c0155120
770	c01550c0
769	c0155060
768	c0155000
767	c0154fa0
766	c0154f40
765	c0154ee0
764	c0154e80
763	c0154e20
762	c0154dc0
761	c0154d60
760	c0154d00
759	c0154ca0
758	c0154c40
757	c0154be0
756	c0154b80
755	c0154b20
754	c0154ac0
753	c0154a60
752	c0154a00
751	c01549a0
750	c0154940
749	c01548e0
748	c0154880
747	c0154820
746	c01547c0
745	c0154760
744	c0154700
743	c01546a0
742	c0154640
741	c01545e0
740	c0154580
739	c0154520
738	c01544c0
737	c0154460
736	c0154400
735	c01543a0
734	c0154340
733	c01542e0
732	c0154280
731	c0154220
730	c01541c0
729	c0154160
728	c0154100
727	c01540a0
726	c0154040
725	c0153fe0
724	c0153f80
723	c0153f20
722	c0153ec0
721	c0153e60
720	c0153e00
719	c0153da0
718	c0153d40
717	c0153ce0
716	c0153c80
715	c0153c20
714	c0153bc0
713	c0153b60
712	c0153b00
711	c0153aa0
710	c0153a40
709	c01539e0
708	c0153980
707	c0153920
706	c01538c0
705	c0153860
704	c0153800
703	c01537a0
702	c0153740
701	c01536e0
700	c0153680
699	c0153620
698	c01535c0
697	c0153560
696	c0153500
695	c01534a0
694	c0153440
693	c01533e0
692	c0153380
691	c0153320
690	c01532c0
689	c0153260
688	c0153200
687	c01531a0
686	c0153140
685	c01530e0
684	c0153080
683	c0153020
682	c0152fc0
681	c0152f60
680	c0152f00
679	c0152ea0
678	c0152e40
677	c0152de0
676	c0152d80
675	c0152d20
674	c0152cc0
673	c0152c60
672	c0152c00
671	c0152ba0
670	c0152b40
669	c0152ae0
668	c0152a80
667	c0152a20
666	c01529c0
665	c0152960
664	c0152900
663	c01528a0
662	c0152840
661	c01527e0
660	c0152780
659	c0152720
658	c01526c0
657	c0152660
656	c0152600
655	c01525a0
654	c0152540
653	c01524e0
652	c0152480
651	c0152420
650	c01523c0
649	c0152360
648	c0152300
647	c01522a0
646	c0152240
645	c01521e0
644	c0152180
643	c0152120
642	c01520c0
641	c0152060
640	c0152000
639	c0151fa0
638	c0151f40
637	c0151ee0
636	c0151e80
635	c0151e20
634	c0151dc0
633	c0151d60
632	c0151d00
631	c0151ca0
630	c0151c40
629	c0151be0
628	c0151b80
627	c0151b20
626	c0151ac0
625	c0151a60
624	c0151a00
623	c01519a0
622	c0151940
621	c01518e0
620	c0151880
619	c0151820
618	c01517c0
617	c0151760
616	c0151700
615	c01516a0
614	c0151640
613	c01515e0
612	c0151580
611	c0151520
610	c01514c0
609	c0151460
608	c0151400
607	c01513a0
606	c0151340
605	c01512e0
604	c0151280
603	c0151220
602	c01511c0
601	c0151160
600	c0151100
599	c01510a0
598	c0151040
597	c0150fe0
596	c0150f80
595	c0150f20
594	c0150ec0
593	c0150e60
592	c0150e00
591	c0150da0
590	c0150d40
589	c0150ce0
588	c0150c80
587	c0150c20
586	c0150bc0
585	c0150b60
584	c0150b00
583	c0150aa0
582	c0150a40
581	c01509e0
580	c0150980
579	c0150920
578	c01508c0
577	c0150860
576	c0150800
575	c01507a0
574	c0150740
573	c01506e0
572	c0150680
571	c0150620
570	c01505c0
569	c0150560
568	c0150500
567	c01504a0
566	c0150440
565	c01503e0
564	c0150380
563	c0150320
562	c01502c0
561	c0150260
560	c0150200
559	c01501a0
558	c0150140
557	c01500e0
556	c0150080
555	c0150020
554	c014ffc0
553	c014ff60
552	c014ff00
551	c014fea0
550	c014fe40
549	c014fde0
548	c014fd80
547	c014fd20
546	c014fcc0
545	c014fc60
544	c014fc00
543	c014fba0
542	c014fb40
541	c014fae0
540	c014fa80
539	c014fa20
538	c014f9c0
537	c014f960
536	c014f900
535	c014f8a0
534	c014f840
533	c014f7e0
532	c014f780
531	c014f720
530	c014f6c0
529	c014f660
528	c014f600
527	c014f5a0
526	c014f540
525	c014f4e0
524	c014f480
523	c014f420
522	c014f3c0
521	c014f360
520	c014f300
519	c014f2a0
518	c014f240
517	c014f1e0
516	c014f180
515	c014f120
514	c014f0c0
513	c014f060
512	c014f000
511	c014efa0
510	c014ef40
509	c014eee0
508	c014ee80
507	c014ee20
506	c014edc0
505	c014ed60
504	c014ed00
503	c014eca0
502	c014ec40
501	c014ebe0
500	c014eb80
499	c014eb20
498	c014eac0
497	c014ea60
496	c014ea00
495	c014e9a0
494	c014e940
493	c014e8e0
492	c014e880
491	c014e820
490	c014e7c0
489	c014e760
488	c014e700
487	c014e6a0
486	c014e640
485	c014e5e0
484	c014e580
483	c014e520
482	c014e4c0
481	c014e460
480	c014e400
479	c014e3a0
478	c014e340
477	c014e2e0
476	c014e280
475	c014e220
474	c014e1c0
473	c014e160
472	c014e100
471	c014e0a0
470	c014e040
469	c014dfe0
468	c014df80
467	c014df20
466	c014dec0
465	c014de60
464	c014de00
463	c014dda0
462	c014dd40
461	c014dce0
460	c014dc80
459	c014dc20
458	c014dbc0
457	c014db60
456	c014db00
455	c014daa0
454	c014da40
453	c014d9e0
452	c014d980
451	c014d920
450	c014d8c0
449	c014d860
448	c014d800
447	c014d7a0
446	c014d740
445	c014d6e0
444	c014d680
443	c014d620
442	c014d5c0
441	c014d560
440	c014d500
439	c014d4a0
438	c014d440
437	c014d3e0
436	c014d380
435	c014d320
434	c014d2c0
433	c014d260
432	c014d200
431	c014d1a0
430	c014d140
429	c014d0e0
428	c014d080
427	c014d020
426	c014cfc0
425	c014cf60
424	c014cf00
423	c014cea0
422	c014ce40
421	c014cde0
420	c014cd80
419	c014cd20
418	c014ccc0
417	c014cc60
416	c014cc00
415	c014cba0
414	c014cb40
413	c014cae0
412	c014ca80
411	c014ca20
410	c014c9c0
409	c014c960
408	c014c900
407	c014c8a0
406	c014c840
405	c014c7e0
404	c014c780
403	c014c720
402	c014c6c0
401	c014c660
400	c014c600
399	c014c5a0
398	c014c540
397	c014c4e0
396	c014c480
395	c014c420
394	c014c3c0
393	c014c360
392	c014c300
391	c014c2a0
390	c014c240
389	c014c1e0
388	c014c180
387	c014c120
386	c014c0c0
385	c014c060
384	c014c000
383	c014bfa0
382	c014bf40
381	c014bee0
380	c014be80
379	c014be20
378	c014bdc0
377	c014bd60
376	c014bd00
375	c014bca0
374	c014bc40
373	c014bbe0
372	c014bb80
371	c014bb20
370	c014bac0
369	c014ba60
368	c014ba00
367	c014b9a0
366	c014b940
365	c014b8e0
364	c014b880
363	c014b820
362	c014b7c0
361	c014b760
360	c014b700
359	c014b6a0
358	c014b640
357	c014b5e0
356	c014b580
355	c014b520
354	c014b4c0
353	c014b460
352	c014b400
351	c014b3a0
350	c014b340
349	c014b2e0
348	c014b280
347	c014b220
346	c014b1c0
345	c014b160
344	c014b100
343	c014b0a0
342	c014b040
341	c014afe0
340	c014af80
339	c014af20
338	c014aec0
337	c014ae60
336	c014ae00
335	c014ada0
334	c014ad40
333	c014ace0
332	c014ac80
331	c014ac20
330	c014abc0
329	c014ab60
328	c014ab00
327	c014aaa0
326	c014aa40
325	c014a9e0
324	c014a980
323	c014a920
322	c014a8c0
321	c014a860
320	c014a800
319	c014a7a0
318	c014a740
317	c014a6e0
316	c014a680
315	c014a620
314	c014a5c0
313	c014a560
312	c014a500
311	c014a4a0
310	c014a440
309	c014a3e0
308	c014a380
307	c014a320
306	c014a2c0
305	c014a260
304	c014a200
303	c014a1a0
302	c014a140
301	c014a0e0
300	c014a080
299	c014a020
298	c0149fc0
297	c0149f60
296	c0149f00
295	c0149ea0
294	c0149e40
293	c0149de0
292	c0149d80
291	c0149d20
290	c0149cc0
289	c0149c60
288	c0149c00
287	c0149ba0
286	c0149b40
285	c0149ae0
284	c0149a80
283	c0149a20
282	c01499c0
281	c0149960
280	c0149900
279	c01498a0
278	c0149840
277	c01497e0
276	c0149780
275	c0149720
274	c01496c0
273	c0149660
272	c0149600
271	c01495a0
270	c0149540
269	c01494e0
268	c0149480
267	c0149420
266	c01493c0
265	c0149360
264	c0149300
263	c01492a0
262	c0149240
261	c01491e0
260	c0149180
259	c0149120
258	c01490c0
257	c0149060
256	c0149000
255	c0148fa0
254	c0148f40
253	c0148ee0
252	c0148e80
251	c0148e20
250	c0148dc0
249	c0148d60
248	c0148d00
247	c0148ca0
246	c0148c40
245	c0148be0
244	c0148b80
243	c0148b20
242	c0148ac0
241	c0148a60
240	c0148a00
239	c01489a0
238	c0148940
237	c01488e0
236	c0148880
235	c0148820
234	c01487c0
233	c0148760
232	c0148700
231	c01486a0
230	c0148640
229	c01485e0
228	c0148580
227	c0148520
226	c01484c0
225	c0148460
224	c0148400
223	c01483a0
222	c0148340
221	c01482e0
220	c0148280
219	c0148220
218	c01481c0
217	c0148160
216	c0148100
215	c01480a0
214	c0148040
213	c0147fe0
212	c0147f80
211	c0147f20
210	c0147ec0
209	c0147e60
208	c0147e00
207	c0147da0
206	c0147d40
205	c0147ce0
204	c0147c80
203	c0147c20
202	c0147bc0
201	c0147b60
200	c0147b00
199	c0147aa0
198	c0147a40
197	c01479e0
196	c0147980
195	c0147920
194	c01478c0
193	c0147860
192	c0147800
191	c01477a0
190	c0147740
189	c01476e0
188	c0147680
187	c0147620
186	c01475c0
185	c0147560
184	c0147500
183	c01474a0
182	c0147440
181	c01473e0
180	c0147380
179	c0147320
178	c01472c0
177	c0147260
176	c0147200
175	c01471a0
174	c0147140
173	c01470e0
172	c0147080
171	c0147020
170	c0146fc0
169	c0146f60
168	c0146f00
167	c0146ea0
166	c0146e40
165	c0146de0
164	c0146d80
163	c0146d20
162	c0146cc0
161	c0146c60
160	c0146c00
159	c0146ba0
158	c0146b40
157	c0146ae0
156	c0146a80
155	c0146a20
154	c01469c0
153	c0146960
152	c0146900
151	c01468a0
150	c0146840
149	c01467e0
148	c0146780
147	c0146720
146	c01466c0
145	c0146660
144	c0146600
143	c01465a0
142	c0146540
141	c01464e0
140	c0146480
139	c0146420
138	c01463c0
137	c0146360
136	c0146300
135	c01462a0
134	c0146240
133	c01461e0
132	c0146180
131	c0146120
130	c01460c0
129	c0146060
128	c0146000
127	c0145fa0
126	c0145f40
125	c0145ee0
124	c0145e80
123	c0145e20
122	c0145dc0
121	c0145d60
120	c0145d00
119	c0145ca0
118	c0145c40
117	c0145be0
116	c0145b80
115	c0145b20
114	c0145ac0
113	c0145a60
112	c0145a00
111	c01459a0
110	c0145940
109	c01458e0
108	c0145880
107	c0145820
106	c01457c0
105	c0145760
104	c0145700
103	c01456a0
102	c0145640
101	c01455e0
100	c0145580
99	c0145520
98	c01454c0
97	c0145460
96	c0145400
95	c01453a0
94	c0145340
93	c01452e0
92	c0145280
91	c0145220
90	c01451c0
89	c0145160
88	c0145100
87	c01450a0
86	c0145040
85	c0144fe0
84	c0144f80
83	c0144f20
82	c0144ec0
81	c0144e60
80	c0144e00
79	c0144da0
78	c0144d40
77	c0144ce0
76	c0144c80
75	c0144c20
74	c0144bc0
73	c0144b60
72	c0144b00
71	c0144aa0
70	c0144a40
69	c01449e0
68	c0144980
67	c0144920
66	c01448c0
65	c0144860
64	c0144800
63	c01447a0
62	c0144740
61	c01446e0
60	c0144680
59	c0144620
58	c01445c0
57	c0144560
56	c0144500
55	c01444a0
54	c0144440
53	c01443e0
52	c0144380
51	c0144320
50	c01442c0
49	c0144260
48	c0144200
47	c01441a0
46	c0144140
45	c01440e0
44	c0144080
43	c0144020
42	c0143fc0
41	c0143f60
40	c0143f00
39	c0143ea0
38	c0143e40
37	c0143de0
36	c0143d80
35	c0143d20
34	c0143cc0
33	c0143c60
32	c0143c00
31	c0143ba0
30	c0143b40
29	c0143ae0
28	c0143a80
27	c0143a20
26	c01439c0
25	c0143960
24	c0143900
23	c01438a0
22	c0143840
21	c01437e0
20	c0143780
19	c0143720
18	c01436c0
17	c0143660
16	c0143600
15	c01435a0
14	c0143540
13	c01434e0
12	c0143480
11	c0143420
10	c01433c0
9	c0143360
8	c0143300
7	c01432a0
6	c0143240
5	c01431e0
4	c0143180
3	c0143120
2	c01430c0
1	c0143060
0	c0143000
envs startc0143000
envs endc015afa0
loader new gdt
find elf!
loader complete
eip	80484e5
kernpgdir c0121000
game hello world!
tf->irq<0   -1
draw_logo
